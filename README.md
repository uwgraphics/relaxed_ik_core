# relaxed_ik_core
## About
This is the core part of RelaxedIK solver. Here is the project page that has more information about RelaxedIK that you may want to know about: https://uwgraphics.github.io/relaxed_ik_core/

RelaxedIK is an inverse kinematics (IK) solver designed for robot platforms such that the conversion between Cartesian end-effector pose goals (such as "move the robot's right arm end-effector to position X, while maintaining an end-effector orientation Y") to Joint-Space (i.e., the robot's rotation values for each joint degree-of-freedom at a particular time-point) is done both ACCURATELY and FEASIBLY.  By this, we mean that RelaxedIK attempts to find the closest possible solution to the desired end-effector pose goals without exhibiting negative effects such as self-collisions, environment collisions, kinematic-singularities, or joint-space discontinuities.

**UPDATE:** Based on our CollisionIK paper, we add the feature of simultaneously avoiding collisions with static or dynamic obstacles in the environment to RelaxedIK. This method effectively incorporates environment collision avoidance as a single term in this multi-objective, optimization-based IK structure, and provide solutions for how to spatially represent and organize external environments such that data can be efficiently passed to a real-time, performancecritical optimization loop.

Usually you don't want to run this repo directly (although it is runnable, please refer to the section "run"), instead, you may want to work with one of the wrappers of RelaxedIK:
+ Wrapper in ROS: [relaxed_ik_ros1](https://github.com/uwgraphics/relaxed_ik_ros1)
+ Wrapper in ROS2 (Under developed): [relaxed_ik_ros2](https://github.com/uwgraphics/relaxed_ik_ros2)
+ Wrapper in CoppeliaSim: [relaxed_ik_coppeliasim](https://github.com/uwgraphics/relaxed_ik_coppeliasim)
+ Wrapper in Mujoco: [relaxed_ik_mujoco](https://github.com/1. If you would like to use your own config files for a robot that we provided config files in relaxed_ik_core/config or work on a new robot that we didn't provide config files, please go to [relaxed_ik](https://github.com/uwgraphics/relaxed_ik) to generate required config files. After you have those files, put the corresponding config files (generated by relaxed_ik) into each subfolder in relaxed_ik_core/config. Replace the given files if you are updating config files for a provided robot. You can skip this step if you would like to work on a robot whose config files are provided by us.uwgraphics/relaxed_ik_mujoco)
+ Wrapper in Unity, Windows: [relaxed_ik_unity](https://github.com/uwgraphics/relaxed_ik_unity)

## Dependencies
To use relaxed_ik_core and all the wrappers that include relaxed_ik_core, you will first need to install Rust. Please go to https://www.rust-lang.org/learn/get-started for more infomation.

## Configuration
All the configurations are set up in [relaxed_ik_core/config/settings.yaml](https://github.com/uwgraphics/relaxed_ik_core/blob/dev/config/settings.yaml). Please take a look at this file before you try to run the solver. More detailed instructions are provided there. 

## Run
1. relaxed_ik_core is runnable on both linux and windows machines.
2. Enter the interactive mode by running: 
	```
	cargo run --bin relaxed_ik_bin
	```
3. Follow the prompt in the console to test pre-generated robot configuration files. Available robots include baxter, hubo, iiwa7, jaco7, panda, sawyer, ur5 and yumi.
4. The joint angle solutions printed to the console should converge after a few seconds of running.
